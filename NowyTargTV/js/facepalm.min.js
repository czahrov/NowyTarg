!function(){var e={};e.launcher=function(){"function"==typeof e.page.default&&e.page.default();var t=window.location.pathname.match(new RegExp("^"+e.bazar.basePath+"(.*)$","i"))[1];if("/"==t)"function"==typeof e.page.index&&e.page.index();else{var i=t.match(/([\w\-]+)\/$/)[1],n=i.replace(/\-/g,"_");"string"==typeof i&&i.length&&("function"==typeof e.page[n]?e.page[n]():"function"==typeof e.page.alternate&&e.page.alternate())}},e.bazar={basePath:"",logger:/logger/i.test(window.location.hash),mobile:/mobile/i.test(window.location.hash)||void 0},e.addon={isLogger:function(){return e.bazar.logger||!1},isMobile:function(){var t=e.bazar;return(t.logger||!1)&&console.log("isMobile()"),void 0===t.mobile&&(t.mobile=/Mobile|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),t.mobile},youtube:function(t){try{var i=e.bazar.logger||!1;if("string"!=typeof t.ID)throw"Niepoprawny ID filmu";if(!$(t.iframe).length)throw"iframe nie istnieje";t.autoplay=t.autoplay||0,t.loop=t.loop||0,t.controls=t.controls||1,t.beforePlay=t.beforePlay||function(){},t.onClose=t.onClose||function(){};return{el:t.iframe,url:"https://www.youtube.com/embed/"+t.ID+"?controls="+t.controls+"&autoplay="+t.autoplay+"&loop="+t.loop,open:function(){t.beforePlay(this.el),$(this.el).attr({src:this.url})},close:function(){t.onClose(this.el),$(this.el).attr({src:""})}}}catch(e){i&&console.error(e)}},form:{filters:{imie:/^[a-zA-Z \-żźćńółąśęŻŹĆŃÓŁĄŚĘ]+$/,nazwa:/^[\w \-żźćńółąśęŻŹĆŃÓŁĄŚĘ]+$/,adres:/^[\w \-żźćńółąśęŻŹĆŃÓŁĄŚĘ\.,\d]+$/,telefon:/^[\d\+ \(\)]+$/,mail:/^[^\d_\.\-][\w\d \.\-!#\$%&'\*\+/=\?^`\{\|\}~]{1,64}@\w+(?:\.\w+)+$/,tekst:/^[\w\s \-żźćńółąśęŻŹĆŃÓŁĄŚĘ\[\]\{\}\|\+\?\.,\:;\$\^\*\(\)!#%~/\\]*$/,tekst_req:/^[\w\s \-żźćńółąśęŻŹĆŃÓŁĄŚĘ\[\]\{\}\|\+\?\.,\:;\$\^\*\(\)!#%~/\\]+$/},verify:function(t){e.addon.isLogger()&&console.log("form.verify()");if("object"==typeof t&&"number"==typeof t.length){var n=[];for(i in t){var r=$(t[i].item).val();if("object"!=typeof t[i]||void 0===r||"string"!=typeof t[i].filterName||"string"!=typeof t[i].name||void 0===this.filters[t[i].filterName])return!1;this.filters[t[i].filterName].test(r)||n.push(t[i].item)}return!n.length||n}return!1}}},e.page={default:function(){e.addon.isLogger()&&(window.facepalm=e,console.log("page.default()")),function(e,t,i,n,r,o,a){var s,l=!1,c=new TimelineLite({paused:!0,onStart:function(){e.addClass("open")},onComplete:function(){l=!1},onReverseComplete:function(){e.removeClass("open"),l=!1}}).add(TweenLite.fromTo(e,.3,{opacity:0},{opacity:1})).add(TweenLite.fromTo(t,.3,{opacity:0,y:-200},{opacity:1,y:0}));e.on({show:function(e){l||(l=!0,c.play())},hide:function(e){l||(l=!0,c.reverse())},click:function(t){e.triggerHandler("hide")},wheel:function(e){e.preventDefault(),e.stopPropagation()}});var p=0;n.on({init:function(e){a.each(function(){var e=$(this).attr("href");$("<div class='item' style='background-image:url("+e+")'></div>").appendTo(o)})},set:function(e,t){(p=t)<0&&(p=0),p>=a.length&&(p=a.length-1),TweenLite.to(o,.3,{scrollLeft:function(){return p*$("#popup > .box > .slider").width()},onComplete:function(){l=!1}})},next:function(e){l||(l=!0,p++,n.triggerHandler("set",p))},prev:function(e){l||(l=!0,p--,n.triggerHandler("set",p))},click:function(e){e.stopPropagation()}}).swipe({swipeLeft:function(e){n.triggerHandler("next")},swipeRight:function(e){n.triggerHandler("prev")}}),n.triggerHandler("init"),a.click(function(t){t.preventDefault(),e.triggerHandler("show"),n.triggerHandler("set",$(this).index())}),r.click(function(e){$(this).hasClass("right")?n.triggerHandler("next"):$(this).hasClass("left")&&n.triggerHandler("prev")}),i.click(function(){e.triggerHandler("hide")}),$("body").on({keyup:function(t){if($("#popup").hasClass("open"))switch(t.key){case"ArrowRight":n.triggerHandler("next");break;case"ArrowLeft":n.triggerHandler("prev");break;case"Escape":e.triggerHandler("hide")}},keydown:function(e){if($("#popup").hasClass("open"))switch(e.key){case"ArrowUp":case"ArrowDown":case" ":e.preventDefault(),e.stopPropagation()}}}),$(window).resize(function(e){window.clearTimeout(s),s=window.setTimeout(function(){n.triggerHandler("set",p)},300)})}($("#popup"),$("#popup > .box"),$("#popup > .box > .exit"),$("#popup > .box > .slider"),$("#popup > .box > .slider > .nav"),$("#popup > .box > .slider > .view"),$("#galeria > .row > .item.popup")),function(e,t){e.click(function(i){t.hasClass("show")?e.removeClass("open"):e.addClass("open")})}($(".navbar-toggler > .box"),$(".navbar-collapse")),function(e,t,i,n){t.on({show:function(e,t){void 0!==typeof t&&i.filter("."+t).addClass("open").siblings().removeClass("open")},hide:function(e){t.fadeOut(function(){i.hide()})}}),n.click(function(e){t.triggerHandler("show",$(this).attr("view")),$(this).hasClass("active")?t.toggleClass("mob_open"):t.addClass("mob_open"),$(this).addClass("active").siblings().removeClass("active")})}($("#minipanel"),$("#minipanel .popup"),$("#minipanel .popup > .view"),$("#minipanel .item")),$("a.load_more").click(function(e){try{var t=$(this),i=parseInt(t.attr("item-cat"));if(isNaN(i))throw"Identyfikator kategorii jest błędny";var n=null;switch(t.attr("item-segment")){case"aktualnosci":case"przeglad":n=t.parents(".row:first").find(".link_post").length;break;case"reportaze":n=t.siblings(".top_news_list").children(".item").length;break;case"sport":n=t.siblings(".row.sport").find(".link_post").length;break;case"kultura":n=t.parent().siblings(".item").length}$.ajax({type:"POST",url:"/more",data:{category:i,offset:n,num:4},success:function(e,i){if(0===e.length)throw"Pusta odpowiedź";var n=JSON.parse(e),r=null;switch(t.attr("item-segment")){case"aktualnosci":case"przeglad":r=t.parents(".row:first").find(".link_post:not(.big):first");break;case"reportaze":r=t.siblings(".top_news_list").children(".item:first");break;case"sport":r=t.siblings(".row.sport").find(".link_post:not(.big):first").parent();break;case"kultura":r=t.parent().siblings(".item:first")}$.each(n,function(e,i){var n=r.clone();switch(t.attr("item-segment")){case"aktualnosci":case"przeglad":n.attr("href",i.url).children(".post_news_small").css("background-image","url("+i.img+")").html(i.icon).siblings(".post_news_small_tiitle").html(i.title+i.icon),t.parent().before(n);break;case"reportaze":n.attr("href",i.url).find(".img_link").css("background-image","url("+i.img+")").next("p").html(i.title+i.icon),t.siblings(".top_news_list").append(n);break;case"sport":n.children(".link_post").attr("href",i.url).children(".overview_small").html(i.icon).css("background-image","url("+i.img+")").next("span").html(i.title),t.prev(".row.sport").append(n);break;case"kultura":n.attr("href",i.url).find(".img_link").css("background-image","url("+i.img+")").next("p").html(i.title+i.icon),t.parent().before(n)}})}})}catch(e){console.error(e)}}),$("#popup_side").on({open:function(e){$(this).addClass("open")},close:function(e){$(this).removeClass("open")},click:function(e){$(this).triggerHandler("close")},wheel:function(e){e.preventDefault()}}),function(e,t,i){i.click(function(e){e.stopPropagation()}),e.click(function(e){t.triggerHandler("open");$(i).gmap3({address:"Zakopianka",zoom:10,mapTypeId:google.maps.MapTypeId.ROADMAP,navigationControl:!0,scrollwheel:!0}).trafficlayer().marker([{position:[50.036171,19.940513]},{position:[49.309807,19.968819]}])})}($("#sidestick > .traffic"),$("#popup_side"),$("#popup_side #gmap"))},alternate:function(){e.addon.isLogger()&&console.log("page.alternate()")},index:function(){e.addon.isLogger()&&console.log("page.index()"),function(e,t,i,n,r){var o,a,s=0,l=!1,c=function(){return Math.floor(t.outerWidth()/i.first().outerWidth())};e.on({init:function(){e.triggerHandler("stop"),a=c(),s=0;var t=n.children().first();t.siblings().remove();for(var r=0;r<i.length-a;r++)t.clone().appendTo(n);e.triggerHandler("set"),e.triggerHandler("start")},set:function(){s<0&&(s=Math.floor(t.outerWidth()/i.first().outerWidth())),s%=i.length-Math.floor(t.outerWidth()/i.first().outerWidth()-1),n.children().eq(s).addClass("active").siblings().removeClass("active"),t.animate({scrollLeft:s*i.first().outerWidth(!0)},{duration:500,complete:function(){l=!1}})},next:function(){l||(l=!0,s++,e.triggerHandler("set"))},prev:function(){l||(l=!0,s--,e.triggerHandler("set"))},stop:function(){window.clearInterval(o)},start:function(){e.triggerHandler("stop"),o=window.setInterval(function(){e.triggerHandler("next")},3e3)},mouseenter:function(){e.triggerHandler("stop")},mouseleave:function(){e.triggerHandler("start")}}),t.swipe({swipeLeft:function(){e.triggerHandler("stop"),e.triggerHandler("next")},swipeRight:function(){e.triggerHandler("stop"),e.triggerHandler("prev")}}),r.click(function(t){$(this).hasClass("right")?e.triggerHandler("next"):$(this).hasClass("left")&&e.triggerHandler("prev")}),n.on("click",".item",function(t){e.triggerHandler("stop"),s=$(this).index(),e.triggerHandler("set")}),e.triggerHandler("init"),$(window).resize(function(){a!==c()&&e.triggerHandler("init")})}($(".wydarzenia > .slider"),$(".wydarzenia > .slider > .view"),$(".wydarzenia > .slider > .view > .item"),$(".wydarzenia > .slider > .pagin"),$(".wydarzenia > .slider > .arrow"))}},$(function(){e.launcher()})}();